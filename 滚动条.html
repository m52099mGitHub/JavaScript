<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#btn1{position:fixed;bottom:10px;right:10px;}
		body{height:1000px;}
	</style>
</head>
<body>
	<input id="btn1" type="button" value="回到顶部" />
	<script>
		window.onload=function(){
		  var oBtn=document.getElementById("btn1");
		  var timer=null;
		  //申明一个变量看是否为系统还是用户滚动
		  var scrollBySystem=true;
		  window.onscroll=function(){
		    if(!scrollBySystem){
		      clearInterval(timer);//不是系统滚动就停止定时器
		    }
		    scrollBySystem=false;
		  };
		  oBtn.onclick=function(){
		    timer = setInterval(function(){
		      //获取scrollTop
		      var scrollTop=document.documentElement.scrollTop||document.body.scrollTop;
		      //当点击按钮回到顶部时计算缓冲速度
		      var ispeed=Math.floor(-scrollTop/8);
		      if(scrollTop==0){
		        clearInterval(timer);
		      }
		      scrollBySystem=true;
		      document.documentElement.scrollTop=document.body.scrollTop=scrollTop+ispeed;
		    },30)
		  }
		}
	</script>
</body>
</html>